<html ng-app="VishwakarmaModule">
<head>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/vishwakarma.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/bootstrap.min.css">
    <script type="text/javascript" src="javascripts/lib/angular.min.js"></script>
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
    <title>Vishwakarma Build System</title>
</head>
<body ng-controller="VKController" class="container">

<header class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="../" class="navbar-brand">Vishwakarma</a>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
        <li ng-class="{active: active_screen == 'view_projects'}" ng-click="active_screen = 'view_projects'"><a href="javascript:void(0);">All Projects</a></li>
      </ul>
    </nav>
  </div>
</header>

<!-- <div class="page_header">
    <h2 class="brand">Vishwakarma</h2>

    <ul class="menu">
        <li ng-class="{active: active_screen == 'view_projects'}" ng-click="active_screen = 'view_projects'">All Projects</li>
    </ul>
</div> -->

<div class="row big_dialog proj_container" ng-show="active_screen == 'view_projects'">
    <div class="col-xs-3 sidebar">
        <div style="font-size: 18px; padding: 10px;">
            Running Projects
        </div>

        <div>
            <ul class="running_projects">
                <li ng-repeat="(key, active_proj) in running_projects" ng-click="stdout = active_proj.stdout">
                    <img src="/images/loader_circle.gif" ng-show="active_proj.status == 'running'">
                    <i class="fa fa-check" ng-show="active_proj.status == 'completed'"></i>
                    <span class="project_name">{{active_proj.name}}</span> <span><i class="fa fa-times pull-right"></i></span>
                </li>
            </ul>
        </div>
    </div>

    <div class="col-xs-9">
        <div class="header row">
            Projects

            <button class="btn btn-success" ng-click="init_new_project()">Add</button>
        </div>

        <div class="body row">

            <div class="no_projects" ng-show="projects.length == 0">
                You have no projects
            </div>

            <table class="projects">
                <tr ng-repeat="(key, project) in projects">
                    <td class="project_name"><a href="javascript: void(0);" ng-click="get_project(project._id)">{{project.name}}</a></td>
                    <td class="cmd">{{project.desc}}</td>
                    <td><button ng-click="run_cmd(project._id)">Run</button></td>
                </tr>
            </table>

        </div>
    </div>
</div>

<div class="big_dialog new_project" ng-show="active_screen == 'edit_project'">
    <div class="header">
        {{cur_project.name}} <i class="fa fa-pencil edit_title"></i>

        <button class="btn btn-primary" ng-click="save_project()">Save</button>
        <button class="btn btn-default" ng-click="active_screen = 'view_projects'">Cancel</button>
    </div>

    <div class="body">
        <textarea class="code_area" ng-model="cur_project.code"></textarea>
    </div>

</div>

<div>
    <ul>
        <li ng-repeat="(key, each_line) in stdout track by $index">{{each_line}}</li>
    </ul>
</div>


<div class="modal_backdrop" ng-show="active_modal != ''"></div>

<div class="modal small" id="modal_new_project" ng-show="active_modal == 'modal_new_project'">
    <div class="header">
        <label class="large">Create New Project</label>
    </div>

    <div class="body">
        <form name="FormNewProject">
            <div>
                <input type="text" ng-model="cur_project.name" placeholder="Name of the project" required>
            </div>

            <div class="desc_container">
                <textarea type="text" ng-model="cur_project.desc" placeholder="Description"></textarea>
            </div>
        </form>

    </div>
    <div class="footer">
        <div style="position: absolute; right: 20px">
            <button ng-click="cancel_new_project()">Cancel</button>
            <button class="green" ng-disabled="FormNewProject.$invalid" ng-click="hide_modal()">OK</button>
        </div>
    </div>
</div>


<script type="text/javascript" src="javascripts/vishwakarma.js"></script>

<script src="javascripts/socket.io.min.js"></script>
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">

</body>
</html>